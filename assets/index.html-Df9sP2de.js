import{_ as r,c as e,a as n,o as t}from"./app-Dm747Kgg.js";const a={};function l(s,i){return t(),e("div",null,i[0]||(i[0]=[n('<p>Mark Price = Median (Price1 , Price2 , Last Price)</p><p>Price 1 = Price Index × (1 + Last Funding Rate ×Time Until Next Funding / Funding Period)</p><p>Price 2 = Price Index + Moving Average (30 min Basis)</p><hr><h3 id="公式分解" tabindex="-1"><a class="header-anchor" href="#公式分解"><span>公式分解</span></a></h3><p>标记价格的计算公式为： <strong>Mark Price = Median(Price1, Price2, Last Price)</strong></p><p>其中：</p><ul><li><strong>Price1</strong> = Price Index × (1 + Last Funding Rate × Time Until Next Funding / Funding Period)</li><li><strong>Price2</strong> = Price Index + Moving Average (30 min Basis)</li><li><strong>Last Price</strong>：交易所当前的最新成交价格（即市场价格）。</li></ul><p>标记价格取这三个价格的<strong>中位数（Median）</strong>，以确保结果不过分偏向单一价格来源。</p><hr><h3 id="_1-标记价格-mark-price-的意义" tabindex="-1"><a class="header-anchor" href="#_1-标记价格-mark-price-的意义"><span>1. <strong>标记价格（Mark Price）的意义</strong></span></a></h3><ul><li><strong>标记价格</strong>是交易所用于计算未实现盈亏和强平点（爆仓点）的参考价格。</li><li>它比直接使用市场价格（Last Price）更稳定，防止因短暂的价格波动（如“插针”）导致不必要的强平。</li><li>通过结合多个价格来源（如Price1、Price2、Last Price），标记价格更接近市场“公允价值”。</li></ul><hr><h3 id="_2-公式中的每个组成部分" tabindex="-1"><a class="header-anchor" href="#_2-公式中的每个组成部分"><span>2. <strong>公式中的每个组成部分</strong></span></a></h3><h4 id="_1-price1" tabindex="-1"><a class="header-anchor" href="#_1-price1"><span>(1) <strong>Price1</strong></span></a></h4><p><strong>Price1 = Price Index × (1 + Last Funding Rate × Time Until Next Funding / Funding Period)</strong></p><ul><li><p><strong>Price Index（价格指数）</strong>：</p><ul><li>这是基于多个现货交易所（如Binance、Coinbase、Kraken等）的加权平均价格，反映加密货币的现货市场价格。</li><li>目的是提供一个稳定的基准价格，避免单一交易所价格被操纵。</li><li>例如：BTC的价格指数可能是多个主流交易所BTC/USDT价格的加权平均值。</li></ul></li><li><p><strong>Last Funding Rate（上一周期的资金费率）</strong>：</p><ul><li>这是前一个资金费率结算周期的费率（如上一8小时周期），反映多空市场的平衡情况。</li><li>如果多头占优，资金费率为正；空头占优则为负。</li></ul></li><li><p><strong>Time Until Next Funding / Funding Period（距离下次资金费率结算的时间占比）</strong>：</p><ul><li>表示当前时间到下次资金费率结算的剩余时间占整个结算周期的比例。</li><li>例如，资金费率每8小时结算一次（Funding Period = 8小时），若距离下次结算还有4小时，则 Time Until Next Funding / Funding Period = 4 / 8 = 0.5。</li><li>这个因子调整资金费率的影响，使其随时间线性变化。</li></ul></li><li><p><strong>Price1的作用</strong>：</p><ul><li>Price1通过在价格指数基础上加入资金费率的动态调整，反映永续合约价格与现货价格的偏差（溢价或折价）。</li><li>例如：若资金费率为正（多头支付给空头），Price1会略高于价格指数，反映多头推动的市场溢价。</li></ul></li></ul><p><strong>示例</strong>：</p><ul><li>假设 Price Index = 50,000 USDT，Last Funding Rate = 0.01%（0.0001），Time Until Next Funding = 4小时，Funding Period = 8小时。</li><li>Price1 = 50,000 × (1 + 0.0001 × 4/8) <ul><li>= 50,000 × (1 + 0.00005)</li><li>= 50,000 × 1.00005</li><li>= 50,002.5 USDT。</li></ul></li></ul><hr><h4 id="_2-price2" tabindex="-1"><a class="header-anchor" href="#_2-price2"><span>(2) <strong>Price2</strong></span></a></h4><p><strong>Price2 = Price Index + Moving Average (30 min Basis)</strong></p><ul><li><p><strong>Price Index</strong>：同上，基于现货市场的加权平均价格。</p></li><li><p><strong>Moving Average (30 min Basis)</strong>：</p><ul><li><strong>Basis</strong>是指永续合约价格（通常是Last Price）与现货价格指数（Price Index）之间的差值，即：Basis = Last Price - Price Index。</li><li><strong>30 min Moving Average</strong>是对过去30分钟内Basis的移动平均值，平滑短期价格波动。</li><li>例如：如果永续合约价格持续高于现货价格（溢价），30分钟的Basis均值可能是正值；反之则为负值。</li></ul></li><li><p><strong>Price2的作用</strong>：</p><ul><li>Price2通过加上30分钟Basis的均值，反映近期市场溢价或折价的趋势，同时避免短期剧烈波动的影响。</li><li>它比Last Price更稳定，但仍能捕捉市场短期动态。</li></ul></li></ul><p><strong>示例</strong>：</p><ul><li>假设 Price Index = 50,000 USDT，30 min Moving Average (Basis) = 100 USDT（表示合约价格平均比现货高100 USDT）。</li><li>Price2 = 50,000 + 100 = 50,100 USDT。</li></ul><hr><h4 id="_3-last-price" tabindex="-1"><a class="header-anchor" href="#_3-last-price"><span>(3) <strong>Last Price</strong></span></a></h4><ul><li><strong>Last Price</strong>是交易所当前最新的成交价格，反映实时的市场买卖情况。</li><li>它直接来自交易所的订单簿，波动性较高，容易受市场情绪或操纵影响。</li><li>例如：BTC/USDT永续合约的Last Price可能是50,200 USDT。</li></ul><hr><h4 id="_4-median-price1-price2-last-price" tabindex="-1"><a class="header-anchor" href="#_4-median-price1-price2-last-price"><span>(4) <strong>Median (Price1, Price2, Last Price)</strong></span></a></h4><ul><li><strong>中位数（Median）</strong>：从Price1、Price2、Last Price三个值中取中间值。</li><li>目的：避免单一价格来源的极端值（如Last Price的插针）影响标记价格，确保结果更稳健。</li><li><strong>计算方式</strong>： <ul><li>将三个价格排序，取中间的那个值。</li><li>例如：Price1 = 50,002.5 USDT，Price2 = 50,100 USDT，Last Price = 50,200 USDT。</li><li>排序后：50,002.5, 50,100, 50,200。</li><li>标记价格 = 50,100 USDT（中位数）。</li></ul></li></ul><hr><h3 id="_3-为什么这样设计标记价格" tabindex="-1"><a class="header-anchor" href="#_3-为什么这样设计标记价格"><span>3. <strong>为什么这样设计标记价格？</strong></span></a></h3><ul><li><strong>稳定性</strong>： <ul><li>Last Price波动大，容易受市场操纵（如短暂拉盘或砸盘）影响。</li><li>Price1和Price2基于现货价格指数和长期趋势（如资金费率、Basis均值），更稳定，防止因短期波动导致强平。</li></ul></li><li><strong>公平性</strong>： <ul><li>通过结合现货价格（Price Index）、资金费率调整（Price1）和短期市场趋势（Price2），标记价格更接近市场公允价值。</li><li>中位数方法进一步过滤掉极端值（如Last Price的异常波动）。</li></ul></li><li><strong>防止爆仓</strong>： <ul><li>标记价格用于计算未实现盈亏和维持保证金，避免因Last Price的剧烈波动导致不必要的强平。</li></ul></li></ul><hr><h3 id="_4-实际应用场景" tabindex="-1"><a class="header-anchor" href="#_4-实际应用场景"><span>4. <strong>实际应用场景</strong></span></a></h3><ul><li><strong>未实现盈亏</strong>： <ul><li>未实现盈亏 = (标记价格 - 开仓价格) × 仓位大小 × 杠杆倍数。</li><li>使用标记价格而非Last Price，确保盈亏计算更稳定。</li></ul></li><li><strong>强平风险</strong>： <ul><li>交易所根据标记价格判断仓位是否低于维持保证金水平，决定是否强平。</li><li>例如，若标记价格大幅偏离开仓价格，可能触发强平。</li></ul></li><li><strong>资金费率关联</strong>： <ul><li>资金费率与标记价格间接相关，因为Price1考虑了上一周期的资金费率，反映多空平衡对价格的影响。</li></ul></li></ul><hr><h3 id="_5-注意事项" tabindex="-1"><a class="header-anchor" href="#_5-注意事项"><span>5. <strong>注意事项</strong></span></a></h3><ul><li><strong>平台差异</strong>： <ul><li>不同交易所（如Binance、Bybit）的标记价格算法可能略有不同。例如，Price Index的交易所权重、Basis的均值周期（如30分钟或1小时）可能不同。</li><li>资金费率结算周期（如8小时或4小时）也会影响Price1的计算。</li></ul></li><li><strong>市场波动</strong>： <ul><li>在高波动市场，Last Price可能与Price1、Price2差异较大，中位数方法能有效平滑这种差异。</li></ul></li><li><strong>查看标记价格</strong>： <ul><li>交易所通常在交易界面显示实时标记价格和资金费率，交易者可参考这些数据调整策略。</li></ul></li></ul><hr><h3 id="_6-总结" tabindex="-1"><a class="header-anchor" href="#_6-总结"><span>6. <strong>总结</strong></span></a></h3><ul><li><strong>标记价格</strong>通过取<strong>Price1</strong>（基于现货价格和资金费率调整）、<strong>Price2</strong>（基于现货价格和30分钟Basis均值）、<strong>Last Price</strong>的中位数，确保价格稳定且接近市场公允价值。</li><li><strong>Price1</strong>考虑资金费率，反映多空平衡对价格的动态影响。</li><li><strong>Price2</strong>通过短期溢价/折价均值，平滑市场波动。</li><li><strong>Last Price</strong>提供实时市场参考，但通过中位数过滤其极端波动。</li><li>这种设计减少了因市场操纵或剧烈波动导致的强平风险，保护交易者并维护市场公平。</li></ul>',43)]))}const c=r(a,[["render",l],["__file","index.html.vue"]]),g=JSON.parse(`{"path":"/doc/BlockChain/Contract/153207/","title":"MarkPrice（标记价格）详解","lang":"zh-CN","frontmatter":{"title":"MarkPrice（标记价格）详解","createTime":"2025/10/27 15:32:07","permalink":"/doc/BlockChain/Contract/153207/","copyright":{"author":{"name":"Hu Bao","url":"https://github.com/hubao-1125"}},"tags":["合约"],"description":"Mark Price = Median (Price1 , Price2 , Last Price) Price 1 = Price Index × (1 + Last Funding Rate ×Time Until Next Funding / Funding Period) Price 2 = Price Index + Moving Avera...","head":[["meta",{"property":"og:url","content":"https://hubao-1125.github.io/doc/BlockChain/Contract/153207/"}],["meta",{"property":"og:site_name","content":"Hu bao's blog"}],["meta",{"property":"og:title","content":"MarkPrice（标记价格）详解"}],["meta",{"property":"og:description","content":"Mark Price = Median (Price1 , Price2 , Last Price) Price 1 = Price Index × (1 + Last Funding Rate ×Time Until Next Funding / Funding Period) Price 2 = Price Index + Moving Avera..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-29T14:47:08.000Z"}],["meta",{"property":"article:tag","content":"合约"}],["meta",{"property":"article:modified_time","content":"2025-10-29T14:47:08.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MarkPrice（标记价格）详解\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-10-29T14:47:08.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":5.86,"words":1757},"git":{"updatedTime":1761749228000,"contributors":[{"name":"hubao","username":"hubao","email":"douhuhu1125@gmail.com","commits":4,"avatar":"https://avatars.githubusercontent.com/hubao?v=4","url":"https://github.com/hubao"}]},"autoDesc":true,"filePathRelative":"doc/BlockChain/Contract/4.MarkPrice（标记价格）详解.md","categoryList":[{"id":"9a09b4","sort":10000,"name":"doc"},{"id":"30aae1","sort":10021,"name":"BlockChain"},{"id":"a1cf97","sort":10022,"name":"Contract"}]}`);export{c as comp,g as data};
