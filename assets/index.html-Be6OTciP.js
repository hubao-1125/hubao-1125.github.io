import{_ as p,c as n,f as a,a as c,o as e}from"./app-DAa-7Y-M.js";const l={};function o(t,s){return e(),n("div",null,s[0]||(s[0]=[a(`<p>嗯，接之前写的谷歌对接，这次是脸书对接。对接脸书也是挺难的，当时翻遍了脸书的API文档，死活没找到相关的，而且是纯英文。最后还是找到了。脸书对接不需要引包，脸书对接是直接发<code>GET</code>请求就可以。</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki material-theme-ocean vp-code"><code><span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C792EA;">String</span><span class="space"> </span><span style="color:#BABED8;">appID</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C792EA;">String</span><span class="space"> </span><span style="color:#BABED8;">accessToken</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">access_token=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C792EA;">String</span><span class="space"> </span><span style="color:#BABED8;">appSecret</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">asdasdjajsdjasj</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C792EA;">String</span><span class="space"> </span><span style="color:#BABED8;">yu</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">%7c</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C792EA;">String</span><span class="space"> </span><span style="color:#BABED8;">inputToken</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">input_token=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C792EA;">String</span><span class="space"> </span><span style="color:#BABED8;">debugTokenURL</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://graph.facebook.com/debug_token?</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">拼凑请求参数</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C792EA;">String</span><span class="space"> </span><span style="color:#BABED8;">reqURL</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#BABED8;">debugTokenURL</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#BABED8;">accessToken</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#BABED8;">appID</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#BABED8;">yu</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#BABED8;">appSecret</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&amp;</span><span style="color:#89DDFF;">&quot;</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#BABED8;">inputToken</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#BABED8;">reqVO</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getIDToken</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#BABED8;">logger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">faceBookCheckIDTokenReq:::</span><span style="color:#89DDFF;">&quot;</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:::</span><span style="color:#89DDFF;">&quot;</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#BABED8;">reqURL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C792EA;">String</span><span class="space"> </span><span style="color:#BABED8;">body</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#BABED8;">HttpRequest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">reqURL</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">timeout</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5000</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">execute</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">body</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#BABED8;">logger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">faceBookCheckIDTokenRes:::</span><span style="color:#89DDFF;">&quot;</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:::</span><span style="color:#89DDFF;">&quot;</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#BABED8;">body</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C792EA;">JSONObject</span><span class="space"> </span><span style="color:#BABED8;">jsonObject</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#BABED8;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parseObject</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">body</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C792EA;">JSONObject</span><span class="space"> </span><span style="color:#BABED8;">data</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#BABED8;">jsonObject</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getJSONObject</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">data</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C792EA;">Boolean</span><span class="space"> </span><span style="color:#BABED8;">is_valid</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#BABED8;">data</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBoolean</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">is_valid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#89DDFF;font-style:italic;">if</span><span class="space"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">is_valid</span><span class="space"> </span><span style="color:#89DDFF;">==</span><span class="space"> </span><span style="color:#89DDFF;">null</span><span class="space"> </span><span style="color:#89DDFF;">||</span><span class="space"> </span><span style="color:#89DDFF;">!</span><span style="color:#BABED8;">is_valid</span><span style="color:#89DDFF;">)</span><span class="space"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#BABED8;">logger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">400</span><span style="color:#89DDFF;">,</span><span class="space"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ID</span><span class="space"> </span><span style="color:#C3E88D;">Token</span><span class="space"> </span><span style="color:#C3E88D;">valid</span><span class="space"> </span><span style="color:#C3E88D;">fail</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>脸书校验<code>token</code>就是一个地址<code>GET</code>请求足矣。</p>`,3),c("p",{"User-token":""},"https://graph.facebook.com/debug_token?access_token={App-token}&input_token=",-1),a("<p><code>App-token</code>其实是<code>应用ID</code>与<code>应用密钥</code>组成的，中间加个<code>UrlEncode</code>后的<code>|</code>组成的。</p><p><code>|</code>在<code>UrlEncode</code>后是<code>%7c</code></p><p><code>User-token</code>就是前端通过<code>SDK</code>获取到的用户<code>token</code></p><p>比如我的APPID是123，密钥是456，用户token是789，那么完整的请求地址如下：</p><p>https://graph.facebook.com/debug_token?access_token=123%7c456&amp;input_token=789</p><p>就用上面的地址发起<code>GET</code>请求就好。我代码里面<code>HttpRequest</code>请求起来是不是特别方便？这里安利一波国人开源的<code>Java</code>工具<code>Hutool</code>,相关地址在下面啦，也算是帮作者推广推广~~~</p><p>官网：https://hutool.cn/</p><p>Github：https://github.com/dromara/hutool/</p><p>Gitee：https://gitee.com/dromara/hutool/</p>",9)]))}const D=p(l,[["render",o],["__file","index.html.vue"]]),F=JSON.parse(`{"path":"/doc/Java/ThirdDocking/091848/","title":"脸书三方登录对接（后端）","lang":"zh-CN","frontmatter":{"title":"脸书三方登录对接（后端）","createTime":"2025/02/01 09:18:48","permalink":"/doc/Java/ThirdDocking/091848/","copyright":{"author":{"name":"Hu Bao","url":"https://github.com/hubao-1125"}},"tags":["Java","FaceBook"],"description":"嗯，接之前写的谷歌对接，这次是脸书对接。对接脸书也是挺难的，当时翻遍了脸书的API文档，死活没找到相关的，而且是纯英文。最后还是找到了。脸书对接不需要引包，脸书对接是直接发GET请求就可以。 脸书校验token就是一个地址GET请求足矣。 https://graph.facebook.com/debug_token?access_token={App-...","head":[["meta",{"property":"og:url","content":"https://hubao-1125.github.io/doc/Java/ThirdDocking/091848/"}],["meta",{"property":"og:site_name","content":"Hu bao's blog"}],["meta",{"property":"og:title","content":"脸书三方登录对接（后端）"}],["meta",{"property":"og:description","content":"嗯，接之前写的谷歌对接，这次是脸书对接。对接脸书也是挺难的，当时翻遍了脸书的API文档，死活没找到相关的，而且是纯英文。最后还是找到了。脸书对接不需要引包，脸书对接是直接发GET请求就可以。 脸书校验token就是一个地址GET请求足矣。 https://graph.facebook.com/debug_token?access_token={App-..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-01T01:27:33.000Z"}],["meta",{"property":"article:tag","content":"Java"}],["meta",{"property":"article:tag","content":"FaceBook"}],["meta",{"property":"article:modified_time","content":"2025-02-01T01:27:33.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"脸书三方登录对接（后端）\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-02-01T01:27:33.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":1.21,"words":362},"git":{"updatedTime":1738373253000,"contributors":[{"name":"hubao-1125","username":"hubao-1125","email":"19473254+hubao-1125@users.noreply.github.com","commits":1,"avatar":"https://avatars.githubusercontent.com/hubao-1125?v=4","url":"https://github.com/hubao-1125"}]},"autoDesc":true,"filePathRelative":"doc/Java/ThirdDocking/脸书三方登录对接（后端）.md","categoryList":[{"id":"9a09b4","sort":10000,"name":"doc"},{"id":"8f1aa6","sort":10001,"name":"Java"},{"id":"0fa232","sort":10018,"name":"ThirdDocking"}]}`);export{D as comp,F as data};
