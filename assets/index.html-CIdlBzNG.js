import{_ as a,c as n,a as p,o as l}from"./app-Dm747Kgg.js";const e={};function c(o,s){return l(),n("div",null,s[0]||(s[0]=[p(`<p>常量折叠、死代码消除、循环展开、内联函数，这些都是<strong>编译优化技术</strong>，用于提升程序的执行效率。下面逐个解释：</p><h3 id="_1-常量折叠-constant-folding" tabindex="-1"><a class="header-anchor" href="#_1-常量折叠-constant-folding"><span><strong>1. 常量折叠（Constant Folding）</strong></span></a></h3><h4 id="定义" tabindex="-1"><a class="header-anchor" href="#定义"><span><strong>定义</strong>：</span></a></h4><p>编译器在<strong>编译时</strong>直接计算常量表达式的值，而不是在<strong>运行时</strong>计算。</p><h4 id="示例" tabindex="-1"><a class="header-anchor" href="#示例"><span><strong>示例</strong>：</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki material-theme-ocean vp-code"><code><span class="line"><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">优化前：运行时计算</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">2</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">+</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">3</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">x</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#F78C6C;">2</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">y</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#BABED8;">x</span><span class="space"> </span><span style="color:#89DDFF;">*</span><span class="space"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">优化后：编译时直接计算结果</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">x</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">;</span><span class="space"> </span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">2+3=5</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">y</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#F78C6C;">50</span><span style="color:#89DDFF;">;</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">5*10=50</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="好处" tabindex="-1"><a class="header-anchor" href="#好处"><span><strong>好处</strong>：</span></a></h4><ul><li>减少运行时的计算开销</li><li>简化代码结构</li></ul><h3 id="_2-死代码消除-dead-code-elimination" tabindex="-1"><a class="header-anchor" href="#_2-死代码消除-dead-code-elimination"><span><strong>2. 死代码消除（Dead Code Elimination）</strong></span></a></h3><h4 id="定义-1" tabindex="-1"><a class="header-anchor" href="#定义-1"><span><strong>定义</strong>：</span></a></h4><p>移除程序中<strong>永远不会执行</strong>或<strong>执行后对程序结果无影响</strong>的代码。</p><h4 id="类型1-永远不会执行的代码" tabindex="-1"><a class="header-anchor" href="#类型1-永远不会执行的代码"><span><strong>类型1：永远不会执行的代码</strong></span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki material-theme-ocean vp-code"><code><span class="line"><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">优化前：if条件恒为false，内部代码永远不会执行</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span class="space"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span class="space"> </span><span style="color:#89DDFF;">&gt;</span><span class="space"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span><span class="space"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#BABED8;">System</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">这段代码永远不会执行</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">优化后：直接删除死代码</span></span>
<span class="line"><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">[无代码]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="类型2-执行后无影响的代码" tabindex="-1"><a class="header-anchor" href="#类型2-执行后无影响的代码"><span><strong>类型2：执行后无影响的代码</strong></span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki material-theme-ocean vp-code"><code><span class="line"><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">优化前：变量a赋值后未被使用</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">a</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">;</span><span class="space"> </span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">死代码，因为a后续未被访问</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">b</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">System</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">b</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">优化后：删除无用的变量赋值</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">b</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">System</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">b</span><span style="color:#89DDFF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="好处-1" tabindex="-1"><a class="header-anchor" href="#好处-1"><span><strong>好处</strong>：</span></a></h4><ul><li>减小程序体积</li><li>提高执行效率（减少不必要的指令）</li></ul><h3 id="_3-循环展开-loop-unrolling" tabindex="-1"><a class="header-anchor" href="#_3-循环展开-loop-unrolling"><span><strong>3. 循环展开（Loop Unrolling）</strong></span></a></h3><h4 id="定义-2" tabindex="-1"><a class="header-anchor" href="#定义-2"><span><strong>定义</strong>：</span></a></h4><p>将循环体<strong>多次重复</strong>，减少循环控制（如条件判断、计数器递增）的开销。</p><h4 id="示例-1" tabindex="-1"><a class="header-anchor" href="#示例-1"><span><strong>示例</strong>：</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki material-theme-ocean vp-code"><code><span class="line"><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">优化前：常规循环，每次迭代都需要判断i&lt;10和i++</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span class="space"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">i</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span class="space"> </span><span style="color:#BABED8;">i</span><span class="space"> </span><span style="color:#89DDFF;">&lt;</span><span class="space"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">;</span><span class="space"> </span><span style="color:#BABED8;">i</span><span style="color:#89DDFF;">++)</span><span class="space"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#BABED8;">sum</span><span class="space"> </span><span style="color:#89DDFF;">+=</span><span class="space"> </span><span style="color:#BABED8;">i</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">优化后：展开循环，减少5次循环控制开销</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span class="space"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">i</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span class="space"> </span><span style="color:#BABED8;">i</span><span class="space"> </span><span style="color:#89DDFF;">&lt;</span><span class="space"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">;</span><span class="space"> </span><span style="color:#BABED8;">i</span><span class="space"> </span><span style="color:#89DDFF;">+=</span><span class="space"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span><span class="space"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#BABED8;">sum</span><span class="space"> </span><span style="color:#89DDFF;">+=</span><span class="space"> </span><span style="color:#BABED8;">i</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#BABED8;">sum</span><span class="space"> </span><span style="color:#89DDFF;">+=</span><span class="space"> </span><span style="color:#BABED8;">i</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span><span class="space"> </span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">手动展开一次迭代</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="好处-2" tabindex="-1"><a class="header-anchor" href="#好处-2"><span><strong>好处</strong>：</span></a></h4><ul><li>减少循环控制的指令开销</li><li>提高指令级并行性（CPU可同时处理更多独立操作）</li></ul><h4 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span><strong>注意事项</strong>：</span></a></h4><ul><li>过度展开会导致<strong>代码膨胀</strong>（程序体积变大）</li><li>仅对<strong>迭代次数固定或可预测</strong>的循环效果明显</li></ul><h3 id="_4-内联函数-function-inlining" tabindex="-1"><a class="header-anchor" href="#_4-内联函数-function-inlining"><span><strong>4. 内联函数（Function Inlining）</strong></span></a></h3><h4 id="定义-3" tabindex="-1"><a class="header-anchor" href="#定义-3"><span><strong>定义</strong>：</span></a></h4><p>将函数调用处<strong>直接替换为函数体</strong>，消除函数调用的开销（如参数传递、栈帧创建/销毁）。</p><h4 id="示例-2" tabindex="-1"><a class="header-anchor" href="#示例-2"><span><strong>示例</strong>：</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki material-theme-ocean vp-code"><code><span class="line"><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">优化前：函数调用有开销</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">a</span><span style="color:#89DDFF;">,</span><span class="space"> </span><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">b</span><span style="color:#89DDFF;">)</span><span class="space"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#89DDFF;font-style:italic;">return</span><span class="space"> </span><span style="color:#BABED8;">a</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#BABED8;">b</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">result</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span class="space"> </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">优化后：直接内联函数体</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span class="space"> </span><span style="color:#BABED8;">result</span><span class="space"> </span><span style="color:#89DDFF;">=</span><span class="space"> </span><span style="color:#F78C6C;">10</span><span class="space"> </span><span style="color:#89DDFF;">+</span><span class="space"> </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">;</span><span class="space"> </span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">//</span><span class="space"> </span><span style="color:#464B5D;font-style:italic;">add函数体被直接替换到调用处</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="好处-3" tabindex="-1"><a class="header-anchor" href="#好处-3"><span><strong>好处</strong>：</span></a></h4><ul><li>消除函数调用的栈帧开销</li><li>为后续优化（如常量折叠）创造条件</li></ul><h4 id="注意事项-1" tabindex="-1"><a class="header-anchor" href="#注意事项-1"><span><strong>注意事项</strong>：</span></a></h4><ul><li>仅对<strong>短小、调用频繁</strong>的函数效果明显</li><li>过度内联会导致<strong>代码膨胀</strong>（程序体积变大）</li></ul><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span><strong>总结</strong></span></a></h3><p>这些优化技术的核心目标是：<strong>减少运行时开销、提高执行效率</strong>。编译器会根据具体情况自动应用这些优化，无需开发者手动修改代码（但了解这些技术有助于编写更易优化的代码）。</p>`,37)]))}const i=a(e,[["render",c],["__file","index.html.vue"]]),r=JSON.parse(`{"path":"/doc/Java/JVM/JDK%E5%9F%BA%E7%A1%80/172527/","title":"什么是常量折叠、死代码消除、循环展开、内联函数","lang":"zh-CN","frontmatter":{"title":"什么是常量折叠、死代码消除、循环展开、内联函数","createTime":"2026/01/05 17:25:27","permalink":"/doc/Java/JVM/JDK基础/172527/","copyright":{"author":{"name":"Hu Bao","url":"https://github.com/hubao-1125"}},"tags":["JVM","面试题"],"description":"常量折叠、死代码消除、循环展开、内联函数，这些都是编译优化技术，用于提升程序的执行效率。下面逐个解释： 1. 常量折叠（Constant Folding） 定义： 编译器在编译时直接计算常量表达式的值，而不是在运行时计算。 示例： 好处： 减少运行时的计算开销 简化代码结构 2. 死代码消除（Dead Code Elimination） 定义： 移除程...","head":[["meta",{"property":"og:url","content":"https://hubao-1125.github.io/doc/Java/JVM/JDK%E5%9F%BA%E7%A1%80/172527/"}],["meta",{"property":"og:site_name","content":"Hu bao's blog"}],["meta",{"property":"og:title","content":"什么是常量折叠、死代码消除、循环展开、内联函数"}],["meta",{"property":"og:description","content":"常量折叠、死代码消除、循环展开、内联函数，这些都是编译优化技术，用于提升程序的执行效率。下面逐个解释： 1. 常量折叠（Constant Folding） 定义： 编译器在编译时直接计算常量表达式的值，而不是在运行时计算。 示例： 好处： 减少运行时的计算开销 简化代码结构 2. 死代码消除（Dead Code Elimination） 定义： 移除程..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-05T09:47:08.000Z"}],["meta",{"property":"article:tag","content":"JVM"}],["meta",{"property":"article:tag","content":"面试题"}],["meta",{"property":"article:modified_time","content":"2026-01-05T09:47:08.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"什么是常量折叠、死代码消除、循环展开、内联函数\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-05T09:47:08.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":2.67,"words":800},"git":{"updatedTime":1767606428000,"contributors":[{"name":"hubao-1125","username":"hubao-1125","email":"19473254+hubao-1125@users.noreply.github.com","commits":1,"avatar":"https://avatars.githubusercontent.com/hubao-1125?v=4","url":"https://github.com/hubao-1125"}]},"autoDesc":true,"filePathRelative":"doc/Java/JVM/JDK基础/6.什么是常量折叠、死代码消除、循环展开、内联函数.md","categoryList":[{"id":"9a09b4","sort":10000,"name":"doc"},{"id":"8f1aa6","sort":10001,"name":"Java"},{"id":"000f90","sort":10002,"name":"JVM"},{"id":"1f1bc0","sort":10006,"name":"JDK基础"}]}`);export{i as comp,r as data};
